<div class="btn btn-group">
  <div class="dropdown">
    <button class="btn clearfix medium d-none d-md-block" id="bell" data-toggle="dropdown">
      <span class="low" octicons="comment-discussion" color="white"></span>
      <span *ngIf="sumOfNotification > 0" class="upper badge badge-success">{{sumOfNotification}}</span>
    </button>

    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="bell">
      <h6 class="dropdown-header">Tin nhắn</h6>
      <!-- hiển thị tất cả các tin nhắn đến -->
      <div class="dropdown-item" *ngFor="let n of notifications" >
        <div class="card mx-0">
          <p class="card-header">{{n.title}}</p>
          <p class="card-text">{{n.content}}</p>
          <div class="card-text mx-2">
            <button class="link-btn float-right mx-2 smalltext" (click)="markRead(n.messageID)">Đã đọc</button>
            <button class="link-btn float-right mx-2 smalltext" (click)="reply(n.senderName,n.senderID,n.title)">Trả lời</button>
            <p class=" float-left smalltext"> Người gửi:
              <a class="btn-link" routerLink="/profile/{{n.senderName}}/{{n.senderID}}"> {{n.senderName}}</a>
            </p>
          </div>
        </div>
      </div>
      <p *ngIf="sumOfNotification == 0">Không có tin nhắn nào chưa đọc!</p>

      <div class="dropdown-item float-right">
        <a class="link-btn float-right mx-2 smalltextt" id="seeAll" routerLink="/tin-nhan">Xem trong hộp thư</a>
        <button *ngIf="sumOfNotification > 0" class="link-btn float-right mx-2 smalltext" (click)="markAllRead()">Đánh dấu tất cả là đã đọc</button>
        
      </div>

    </div>
  </div>


  <!-- phải để href ở link đến profile để tránh xung đột khi xem profile của người khác -->
  <a class="nav-item nav-link" id="username" href='/profile/{{nickname}}/{{userID}}'>{{nickname}}</a>